#!/usr/bin/env ruby

require 'chronicle'

COMMAND = ARGV[0].downcase

repository = Chronicle::Repository.new(Dir.pwd)
character = "<*>"
log = nil

if COMMAND == "between"
  log = repository.log_between(ARGV[1], ARGV[2])
elsif COMMAND == "since"
  log = repository.log_since(ARGV[1])
end

if log
  generator = Chronicle::Generator.new(log)
  puts generator.generate
else
  puts "Error, unrecognised arguments"
end